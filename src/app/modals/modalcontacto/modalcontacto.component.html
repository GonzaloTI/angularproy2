<!-- Encabezado -->
<div class="modal-header border-0 pb-0">
  <div>
    <h3 class="mb-0 fw-bold">Nueva Actividad</h3>
    <div class="text-muted" style="font-size: 1rem;">Registrar una nueva actividad para Saturnino Mamani</div>
  </div>

</div>

<!-- Tabs de canales -->

    <ul class="nav nav-tabs my-3 border-0" style="background: #f7f7f7; border-radius: 8px;">
        <li class="nav-item">
          <a class="nav-link" 
             [ngClass]="{ 'active fw-bold': canalActivo === 'llamada', 'text-muted': canalActivo !== 'llamada' }"
             (click)="canalActivo = 'llamada'">
           
             <i class="fas fa-phone" style="color:#4D75FA; font-size: 20px;" ></i>
            
            Llamada
          </a>
        </li>
        <li class="nav-item">
            <a class="nav-link"
               [ngClass]="{ 'active fw-bold': canalActivo === 'correo', 'text-muted': canalActivo !== 'correo' }"
               (click)="canalActivo = 'correo'">
               
              <!-- SVG en lugar del icono fontawesome -->
              <svg width="20" height="20" viewBox="0 0 85 70" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-right: 0.5rem;">
                <path d="M84.5 63.4375C84.5 66.7995 81.8562 69.5 78.625 69.5H6.375C3.14385 69.5 0.5 66.7995 0.5 63.4375V14.4912C5.60328 18.61 0.518086 14.8293 23.5 31.999V32C24.8555 33.0175 28.6254 36.1129 32.46 38.8887C34.3878 40.2842 36.3606 41.6207 38.0996 42.6064C38.9688 43.0992 39.7895 43.5102 40.5234 43.7969C41.2417 44.0774 41.9174 44.2546 42.4922 44.249V44.25C42.4964 44.2501 42.5007 44.249 42.5049 44.249L42.5078 44.25L42.5068 44.249C43.5687 44.2628 44.7089 43.9293 45.8408 43.4199C46.5501 43.1007 47.2695 42.706 47.9814 42.2695C48.8815 41.7687 49.7425 41.2123 50.5635 40.6299C51.7325 39.8005 52.8313 38.9167 53.8584 38.0752C54.8899 37.2301 55.842 36.4347 56.7393 35.7607C57.1794 35.4319 57.6124 35.105 58.041 34.7842C78.1078 19.7739 79.0734 18.8524 84.5 14.4883V63.4375ZM6.375 0.5H78.625C81.8562 0.5 84.5 3.20047 84.5 6.5625V13.2012C80.771 16.1688 72.6165 22.6337 56.9951 34.3174L54.3887 36.2686L54.3877 36.2695C52.9493 37.3491 50.921 39.0918 48.709 40.6045C48.2886 40.892 47.8647 41.1673 47.4424 41.4258C45.8977 42.2797 44.2569 42.9389 42.5049 43.2393C41.3275 43.0018 39.8471 42.3455 38.2021 41.4131C36.5259 40.4629 34.7169 39.2502 32.9404 37.9727C29.8159 35.7258 26.858 33.329 24.8838 31.7998L24.1006 31.2002L24.0996 31.1992L18.5039 27.0098C6.96065 18.3471 3.67798 15.7323 0.5 13.2021V6.5625C0.5 3.20047 3.14385 0.5 6.375 0.5Z" fill="white" stroke="#4D75FA"/>
              </svg>
              
              Correo
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link"
               [ngClass]="{ 'active fw-bold': canalActivo === 'instagram', 'text-muted': canalActivo !== 'instagram' }"
               (click)="canalActivo = 'instagram'">
          
              <!-- SVG con tamaño fijo y margen derecho para separar del texto -->
            
                <svg width="20" height="20" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-right: 0.5rem;">
                  <path d="M35.0078 16.9394C25.0759 16.9394 17.0647 24.8989 17.0647 34.767C17.0647 44.635 25.0759 52.5946 35.0078 52.5946C44.9398 52.5946 52.9509 44.635 52.9509 34.767C52.9509 24.8989 44.9398 16.9394 35.0078 16.9394ZM35.0078 47.6645C28.5895 47.6645 21.7808 41.1595 21.7808 34.767C21.7808 28.3745 28.5739 22.2434 35.0078 22.2434C41.4417 22.2434 47.9732 28.3745 47.9732 34.767C47.9732 41.1595 41.4261 47.6645 35.0078 47.6645ZM57.87 16.2101C57.87 18.522 55.9961 20.3683 53.6849 20.3683C51.3581 20.3683 49.4997 18.5064 49.4997 16.2101C49.4997 13.9138 51.3737 12.0519 53.6849 12.0519C55.9961 12.0519 57.87 13.9138 57.87 16.2101ZM69.754 20.4304C69.4886 14.8602 68.208 9.92622 64.1009 5.86109C60.0095 1.79595 55.0435 0.523658 49.4373 0.244374C43.6592 -0.0814578 26.3408 -0.0814578 20.5627 0.244374C14.9721 0.508142 10.0061 1.78044 5.89905 5.84557C1.79197 9.9107 0.52705 14.8602 0.245956 20.4304C-0.0819855 26.1712 -0.0819855 43.3627 0.245956 49.1036C0.511433 54.6737 1.79197 59.6077 5.89905 63.6729C10.0061 67.738 14.9565 69.6286 20.5627 69.9079C26.3408 70.2337 43.6592 69.6154 49.4373 69.2896C55.0435 69.0258 60.0095 67.7535 64.1009 63.6729C68.1924 59.6077 69.4729 54.6737 69.754 49.1036C70.082 43.3627 70.082 26.1712 69.754 20.4304ZM62.2895 55.2633C61.0714 58.3044 58.7133 60.6473 55.6369 61.8731C51.0301 63.6884 40.0987 63.2695 35.0078 63.2695C29.9169 63.2695 18.9699 63.6729 14.3787 61.8731C11.3179 60.6628 8.95984 58.3199 7.72616 55.2633C5.89905 50.6862 6.32069 39.8251 6.32069 34.767C6.32069 29.7088 5.91467 18.8323 7.72616 14.2706C8.94423 11.2295 11.3023 8.88666 14.3787 7.66092C18.9855 5.84557 29.9169 6.2645 35.0078 6.2645C40.0987 6.2645 51.0457 5.86109 55.6369 7.66092C58.6977 8.87115 61.0558 11.214 62.2895 14.2706C64.1166 18.8478 63.6949 29.7088 63.6949 34.767C63.6949 39.8251 64.1166 50.7017 62.2895 55.2633Z" fill="url(#paint0_linear_2310_1388)"/>
                  <defs>
                    <linearGradient id="paint0_linear_2310_1388" x1="35" y1="0" x2="35" y2="70" gradientUnits="userSpaceOnUse">
                      <stop stop-color="#FF4E4E"/>
                      <stop offset="1" stop-color="#FFD980"/>
                    </linearGradient>
                  </defs>
                </svg>
              
          
              Instagram
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link"
               [ngClass]="{ 'active fw-bold': canalActivo === 'facebook', 'text-muted': canalActivo !== 'facebook' }"
               (click)="canalActivo = 'facebook'">
          
              <!-- SVG Facebook personalizado con tamaño y margen -->
             
                <svg width="20" height="20" viewBox="0 0 70 70" xmlns="http://www.w3.org/2000/svg" style="margin-right: 0.5rem;">
                  <path d="M54.083 0.5H69.5V10.4189H61.0283C56.5561 10.4189 53.5365 11.2825 51.623 12.6621C49.687 14.0581 48.9318 15.9478 48.9316 17.8477V26.6709H68.668V38.4961H48.9316V69.5H24.8477V38.4961H0.5V26.6611L24.3574 26.208L24.8477 26.1992V16.8506C24.8477 11.5357 28.055 7.46575 33.3516 4.69824C38.6583 1.9255 46.0051 0.5 54.083 0.5Z"
                        fill="#4D75FA" stroke="#4D75FA" />
                </svg>
           
          
              Facebook
            </a>
          </li>
      </ul>
      

<!-- Cajas de contacto y fecha/hora -->
<div class="row g-3 mb-3">
  <!-- Llamada: Números de contacto -->
  <div class="col-md-6" *ngIf="canalActivo === 'llamada'">
    <div class="border rounded p-3 h-100">
      <div class="fw-bold mb-2">Números de Contacto</div>
      <div>1. +591 45353634 <i class="far fa-copy ms-1" style="cursor:pointer;"></i></div>
      <div>2. +591 67580042 <i class="far fa-copy ms-1" style="cursor:pointer;"></i></div>
    </div>
  </div>
  <!-- Correo -->
  <div class="col-md-6" *ngIf="canalActivo === 'correo'">
    <div class="border rounded p-3 h-100">
      <div class="fw-bold mb-2" style="font-size:1.2em;">Contacto</div>
      <div class="text-muted" style="font-size:1.1em;">saturnino99gmail.com</div>
    </div>
  </div>
  <!-- Instagram -->
  <div class="col-md-6" *ngIf="canalActivo === 'instagram'">
    <div class="border rounded p-3 h-100">
      <div class="fw-bold mb-2" style="font-size:1.2em;">Instagram</div>
      <div class="text-muted" style="font-size:1.1em;">saturnino_star</div>
    </div>
  </div>
  <!-- Facebook -->
  <div class="col-md-6" *ngIf="canalActivo === 'facebook'">
    <div class="border rounded p-3 h-100">
      <div class="fw-bold mb-2" style="font-size:1.2em;">Facebook</div>
      <div class="text-muted" style="font-size:1.1em;">Saturnino Mamani</div>
    </div>
  </div>
  <!-- Fecha y hora, con botón enviar según canal -->
  <div class="col-md-6">
    <div class="border rounded p-3 h-100 d-flex flex-column justify-content-between">
      <div>
        <div class="mb-1 d-flex align-items-center justify-content-between">
          <span>
            <i class="far fa-clock me-2 text-primary"></i>05:20 PM
          </span>
          <ng-container [ngSwitch]="canalActivo">
            <button *ngSwitchCase="'correo'" class="btn btn-primary px-4 fw-bold" style="background-color: #253b8a;">
              Enviar <i class="fas fa-envelope ms-2"></i>
            </button>
            <button *ngSwitchCase="'instagram'" class="btn btn-primary px-4 fw-bold" style="background-color:#253b8a;">
              Enviar Mensaje
            </button>
            <button *ngSwitchCase="'facebook'" class="btn btn-primary px-4 fw-bold" style="background-color: #253b8a;">
              Enviar <i class="fab fa-facebook-f ms-2"></i>
            </button>
          </ng-container>
        </div>
        <div>
          <i class="far fa-calendar-alt me-2 text-primary"></i>01 / 04 / 2099
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Contenido dinámico según el canal seleccionado -->
<div *ngIf="canalActivo === 'llamada'">
  <div class="mb-3">
    <label class="form-label fw-semibold">Interacción</label>
    <textarea class="form-control" rows="3" placeholder="Resultado de la Interacción..."
      [(ngModel)]="interaccionLlamada"></textarea>
    <div *ngIf="mostrarErrores && !interaccionLlamada" class="text-danger small mt-1">
      Campo requerido
    </div>
  </div>
  <div class="mb-3">
    <label class="form-label fw-semibold">Resultado</label>
    <textarea class="form-control" rows="2" placeholder="Resultado de la Llamada..."
      [(ngModel)]="resultadoLlamada"></textarea>
    <div *ngIf="mostrarErrores && !resultadoLlamada" class="text-danger small mt-1">
      Campo requerido
    </div>
  </div>
  <div class="mb-4" style="width: 200px;">
    <label class="form-label fw-semibold">Estado de la actividad</label>
    <select class="form-select" [(ngModel)]="estadoLlamada">
      <option value="">Seleccione...</option>
      <option value="exitosa">Exitosa</option>
      <option value="pendiente">Pendiente</option>
      <option value="fallida">Fallida</option>
    </select>
    <div *ngIf="mostrarErrores && !estadoLlamada" class="text-danger small mt-1">
      Campo requerido
    </div>
  </div>
</div>

<div *ngIf="canalActivo === 'correo'">
  <div class="mb-3">
    <label class="form-label fw-semibold">Interacción</label>
    <textarea class="form-control" rows="3" placeholder="Asunto de la Interacción..."
      [(ngModel)]="interaccionCorreo"></textarea>
    <div *ngIf="mostrarErrores && !interaccionCorreo" class="text-danger small mt-1">
      Campo requerido
    </div>
  </div>
  <div class="mb-3">
    <label class="form-label fw-semibold">Resultado</label>
    <textarea class="form-control" rows="2" placeholder="Contenido del Resultado..."
      [(ngModel)]="resultadoCorreo"></textarea>
    <div *ngIf="mostrarErrores && !resultadoCorreo" class="text-danger small mt-1">
      Campo requerido
    </div>
  </div>
  <div class="mb-4" style="width: 200px;">
    <label class="form-label fw-semibold">Estado de la actividad</label>
    <select class="form-select" [(ngModel)]="estadoCorreo">
      <option value="">Seleccione...</option>
      <option value="en_espera">En Espera</option>
      <option value="enviado">Enviado</option>
      <option value="fallido">Fallido</option>
    </select>
    <div *ngIf="mostrarErrores && !estadoCorreo" class="text-danger small mt-1">
      Campo requerido
    </div>
  </div>
</div>

<div *ngIf="canalActivo === 'instagram'">
  <div class="mb-3">
    <label class="form-label fw-semibold">Interacción</label>
    <textarea class="form-control" rows="3" placeholder="Contenido de la Interaccion..."
      [(ngModel)]="interaccionInstagram"></textarea>
  </div>
  <div class="mb-3">
    <label class="form-label fw-semibold">Resultado</label>
    <textarea class="form-control" rows="2" placeholder="Contenido del Resultado..."
      [(ngModel)]="resultadoInstagram"></textarea>
  </div>
  <div class="mb-4" style="width: 200px;">
    <label class="form-label fw-semibold">Estado de la actividad</label>
    <select class="form-select" [(ngModel)]="estadoInstagram">
        <option value="">Seleccione...</option>
        <option value="exitosa">Exitosa</option>
        <option value="pendiente">Pendiente</option>
        <option value="fallida">Fallida</option>
      </select>
  </div>
</div>

<div *ngIf="canalActivo === 'facebook'">
  <div class="mb-3">
    <label class="form-label fw-semibold">Interacción</label>
    <textarea class="form-control" rows="2" placeholder="Contenido de la Interaccion..."
      [(ngModel)]="interaccionFacebook"></textarea>
  </div>
  <div class="mb-3">
    <label class="form-label fw-semibold">Resultado</label>
    <textarea class="form-control" rows="3" placeholder="Contenido del Resultado..."
      [(ngModel)]="resultadoFacebook"></textarea>
  </div>
  <div class="mb-4" style="width: 200px;">
    <label class="form-label fw-semibold">Estado de la actividad</label>
    <select class="form-select" [(ngModel)]="estadoFacebook">
        <option value="">Seleccione...</option>
        <option value="exitosa">Exitosa</option>
        <option value="pendiente">Pendiente</option>
        <option value="fallida">Fallida</option>
      </select>
  </div>
</div>

<!-- Botones -->
<div class="d-flex justify-content-end gap-2">
  <button class="btn btn-light border fw-bold px-4" data-bs-dismiss="modal">Cancelar</button>
  <button class="btn btn-primary fw-bold px-4"
    style="background-color: #253b8a;"
    [disabled]="!camposValidos()"
    (click)="guardar()">
    Guardar <i class="fas fa-save ms-2"></i>
  </button>
</div>
